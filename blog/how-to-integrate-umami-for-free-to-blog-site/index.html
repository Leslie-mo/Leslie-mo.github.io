<!DOCTYPE html>
<html lang="en"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HONGFAN</title>
    <meta charset="utf-8">
    <meta name="description" content="Ladder@This article is about how to integrate umami website analytics to your website for free. The database use  postgres with 500M storage limit provided by supabase.
The umami service is hosted with vercel. Thanks to the excellent service capabilities of cloud vendors, you can integrate umami in less than 10 minutes. You can see the umami dashboard by clicking the Dashboard.">
    <meta name="author" content="HONG FAN">
    <link rel="canonical" href="https://Leslie-mo.github.io/blog/how-to-integrate-umami-for-free-to-blog-site/">
        <meta name="google-site-verification" content="xxx">

    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-xxx"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-xxx', { 'anonymize_ip': false });
}
</script>



<script async defer data-website-id="xxx" src="https://xxx"></script>

    <meta property="og:title" content="How to integrate umami to your website for free" />
<meta property="og:description" content="This article is about how to integrate umami website analytics to your website for free. The database use  postgres with 500M storage limit provided by supabase.
The umami service is hosted with vercel. Thanks to the excellent service capabilities of cloud vendors, you can integrate umami in less than 10 minutes. You can see the umami dashboard by clicking the Dashboard." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Leslie-mo.github.io/blog/how-to-integrate-umami-for-free-to-blog-site/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2022-08-14T21:34:36&#43;08:00" />
<meta property="article:modified_time" content="2022-08-14T21:34:36&#43;08:00" />
<meta property="og:see_also" content="https://Leslie-mo.github.io/blog/ladder-guide/" /><meta property="og:see_also" content="https://Leslie-mo.github.io/blog/quick-start/" /><meta property="og:see_also" content="https://Leslie-mo.github.io/blog/analytics/" /><meta property="og:see_also" content="https://Leslie-mo.github.io/blog/comment-system/" /><meta property="og:see_also" content="https://Leslie-mo.github.io/blog/configurations/" />


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to integrate umami to your website for free"/>
<meta name="twitter:description" content="This article is about how to integrate umami website analytics to your website for free. The database use  postgres with 500M storage limit provided by supabase.
The umami service is hosted with vercel. Thanks to the excellent service capabilities of cloud vendors, you can integrate umami in less than 10 minutes. You can see the umami dashboard by clicking the Dashboard."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Blogs",
      "item": "https://Leslie-mo.github.io/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to integrate umami to your website for free",
      "item": "https://Leslie-mo.github.io/blog/how-to-integrate-umami-for-free-to-blog-site/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to integrate umami to your website for free",
  "name": "How to integrate umami to your website for free",
  "description": "This article is about how to integrate umami website analytics to your website for free. The database use postgres with 500M storage limit provided by supabase.\nThe umami service is hosted with vercel. Thanks to the excellent service capabilities of cloud vendors, you can integrate umami in less than 10 minutes. You can see the umami dashboard by clicking the Dashboard.\n",
  "keywords": [
    "hugo", "ladder", "Tutorial", "analytics", "umami"
  ],
  "articleBody": "This article is about how to integrate umami website analytics to your website for free. The database use postgres with 500M storage limit provided by supabase.\nThe umami service is hosted with vercel. Thanks to the excellent service capabilities of cloud vendors, you can integrate umami in less than 10 minutes. You can see the umami dashboard by clicking the Dashboard.\nCreate a database The database use postgres with 500M storage limit provided by supabase. You can create a supabase account, click new project, and enter the database passowrd to create an ProgresSQL database service.\nIt will take a few minutes to create the database service, and you can get the DATABASE_URL after it’s done.\nHosting umami The umami service is hosted with vercel, Once you have created the database instance, you can deploy the umami service with click deploy button in the Running on Vercel document.\n  Fork the https://github.com/mikecao/umami project to your GitHub account.\n  Create an account on Vercel.\n  From the dashboard page click Import Project then specify the URL to your fork of the project on GitHub.\n  Add the required environment variables to your Vercel project. These values are defined in the Configure umami step from Install.\n DATABASE_URL: Connection string for your database. This is the only required variable. TRACKER_SCRIPT_NAME: Allows you to assign a custom name to the tracker script different from the default umami. This is to help you avoid some ad-blockers. I used hugo-ladder on this project.    Enter yarn build \u0026\u0026 yarn update-db to the BUILD COMMAND, which will migrate the tables of umami to database automatically.\n  Deploy and visit your application at .vercel.app.\n  Follow the Getting started guide starting from the Login step and be sure to change the default password.\n  Of course, if you want to import tables yourself, you can also get the tables from here https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql.\numami configuration After deploying umami in vercel you will get a .vercel.app address which login with the default account: admin and password: umami.\nYou can change the default password and Add webiste, enter the Name and Domain, and click enable share URL so that anyone can access the dashboard.\nThen you can get data-website-id and src values by click Get tracking code，enter the value to the hugo-ladder configuration params.analytics.umami.website_id , params.analytics.umami.url.\nIn the end, you can get the website statistics analytics dashboard.🎉🎉🎉\nLink to original article: https://guangzhengli.com/en/blog/en/how-to-integrate-umami-for-free-to-blog-site/\n",
  "wordCount" : "392",
  "inLanguage": "en",
  "datePublished": "2022-08-14T21:34:36+08:00",
  "dateModified": "2022-08-14T21:34:36+08:00",
  "author":{
    "@type": "Person",
    "name": "HONG FAN"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://Leslie-mo.github.io/blog/how-to-integrate-umami-for-free-to-blog-site/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "HONGFAN",
    "logo": {
      "@type": "ImageObject",
      "url": "https://Leslie-mo.github.io/favicon.ico"
    }
  }
}
</script>
    <link rel="icon" type="image/png" href="/images/avatar.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/avatar.png">

<link rel="manifest" href="/images/avatar.png">

    
    
    
    <link rel="stylesheet" href="/css/main.min.64bc8c4cb2304e84167c1583fa1b5de80f6d5adc95abed2e616dea0ea5680e01.css" integrity="sha256-ZLyMTLIwToQWfBWD&#43;htd6A9tWtyVq&#43;0uYW3qDqVoDgE=" crossorigin="anonymous" media="screen" />
    


    
    <link rel="stylesheet" href="/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css" />

    
    <script src="/js/highlight.min.min.3b47ea811e2e85f6a0dd88cb1ef9db46ef23df2f8e78020cba64d51bb56c0cd0.js"></script>
    <script>hljs.highlightAll();</script>

    <script>(()=>{var b=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,a=localStorage.getItem("theme");b&&a===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),b&&a==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),a==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script>
    </head>
<body>
      <main class="wrapper"><nav class="navigation">
    <section class="container">
        <a class="navigation-brand" href="/">
            HOME
        </a>
        <input type="checkbox" id="menu-toggle" />
        <label class="menu-button float-right" for="menu-toggle">
            <span></span><span></span><span></span>
        </label>
        
        <ul class="navigation-list" id="navigation-list">
            
            
            <li class="navigation-item navigation-menu">
                <a class="navigation-link" href="/blog">Blog</a>
            </li>
            
            <li class="navigation-item navigation-menu">
                <a class="navigation-link" href="/tags">Tags</a>
            </li>
            
            <li class="navigation-item navigation-menu">
                <a class="navigation-link" href="/archives">Archive</a>
            </li>
            
            <li class="navigation-item navigation-menu">
                <a class="navigation-link" href="/guestbook">Guestbook</a>
            </li>
            
            <li class="navigation-item navigation-menu">
                <a class="navigation-link" href="https://xxx">Dashboard</a>
            </li>
            
            

            <li class="navigation-item menu-separator">
                <span>|</span>
            </li>

            
            
            <li class="navigation-item navigation-social">
                <a class="navigation-link" href="https://github.com/username/xxx"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a>
            </li>
            
            <li class="navigation-item navigation-social">
                <a class="navigation-link" href="https://xxx"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-box"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg></a>
            </li>
            
            

            <li class="navigation-item navigation-dark">
                <button id="mode" type="button" aria-label="toggle user light or dark theme">
                    <span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
                    <span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
                </button>
            </li>

            
            
            
            
            
            
            
            <li class="navigation-item navigation-language">
                <a href="https://Leslie-mo.github.io/zh/">中</a>
            </li>
            
            
            
            
        </ul>
        
    </section>
</nav>
<div id="content">
<article class="blog-single">
  <header class="blog-title">
    <h1>How to integrate umami to your website for free</h1>
  </header>

  <p>
  <small>
    :date_long&nbsp;· 392 words&nbsp;· 2 min</small>
  <small>
    
    ·
    
    
    <a href="https://Leslie-mo.github.io/tags/hugo/">hugo</a>
    
    <a href="https://Leslie-mo.github.io/tags/ladder/">ladder</a>
    
    <a href="https://Leslie-mo.github.io/tags/tutorial/">Tutorial</a>
    
    <a href="https://Leslie-mo.github.io/tags/analytics/">analytics</a>
    
    <a href="https://Leslie-mo.github.io/tags/umami/">umami</a>
    
  </small>
<p>

  <div class="blog-toc">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#create-a-database">Create a database</a></li>
    <li><a href="#hosting-umami">Hosting umami</a></li>
    <li><a href="#umami-configuration">umami configuration</a></li>
  </ul>
</nav>
  </div>

  <section class="blog-content"><p>This article is about how to integrate <a href="https://umami.is/">umami</a> website analytics to your website for free. The database use  <a href="https://supabase.com/docs/guides/database">postgres</a> with 500M storage limit provided by <a href="https://app.supabase.com/">supabase</a>.</p>
<p>The <a href="https://umami.is/">umami</a> service is hosted with <a href="https://vercel.com/">vercel</a>. Thanks to the excellent service capabilities of cloud vendors, you can integrate <em>umami</em> in less than 10 minutes. You can see the umami dashboard by clicking the <a href="https://umami-ochre-nu.vercel.app/share/o3zAba1V/guangzhengli">Dashboard</a>.</p>
<h2 id="create-a-database">Create a database</h2>
<p>The database use  <a href="https://supabase.com/docs/guides/database">postgres</a> with 500M storage limit provided by <a href="https://app.supabase.com/">supabase</a>. You can create a supabase account, click <code>new project</code>, and enter the database passowrd to create an ProgresSQL database service.</p>
<p><img src="https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/cN3Zg4.png" alt="cN3Zg4"></p>
<p>It will take a few minutes to create the database service, and you can get the  <code>DATABASE_URL</code> after it&rsquo;s done.</p>
<p><img src="https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/image-20220815182141638.png" alt="image-20220815182141638"></p>
<h2 id="hosting-umami">Hosting umami</h2>
<p>The <a href="https://umami.is/">umami</a> service is hosted with <a href="https://vercel.com/">vercel</a>, Once you have created the database instance, you can deploy the umami service with click deploy button in the <a href="https://umami.is/docs/running-on-vercel">Running on Vercel</a> document.</p>
<ol>
<li>
<p>Fork the <a href="https://github.com/mikecao/umami">https://github.com/mikecao/umami</a> project to your GitHub account.</p>
</li>
<li>
<p>Create an account on Vercel.</p>
</li>
<li>
<p>From the dashboard page click Import Project then specify the URL to your fork of the project on GitHub.</p>
</li>
<li>
<p>Add the required environment variables to your Vercel project. These values are defined in the Configure umami step from Install.</p>
<ol>
<li>DATABASE_URL: Connection string for your database. This is the only required variable.</li>
<li>TRACKER_SCRIPT_NAME: Allows you to assign a custom name to the tracker script different from the default <code>umami</code>. This is to help you avoid some ad-blockers. I used <code>hugo-ladder</code> on this project.</li>
</ol>
</li>
<li>
<p>Enter <code>yarn build &amp;&amp; yarn update-db</code> to the <code>BUILD COMMAND</code>, which will migrate the tables of umami to database automatically.</p>
</li>
<li>
<p>Deploy and visit your application at <!-- raw HTML omitted -->.vercel.app.</p>
</li>
<li>
<p>Follow the Getting started guide starting from the Login step and be sure to change the default password.</p>
</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/gePzXI.png" alt="gePzXI"></p>
<p>Of course, if you want to import tables yourself, you can also get the tables from here <a href="https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql">https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql</a>.</p>
<h2 id="umami-configuration">umami configuration</h2>
<p>After deploying umami in vercel you will get a  <code>&lt;deploy-id&gt;.vercel.app</code>  address which login with the default account: <em>admin</em> and password: <em>umami</em>.</p>
<p>You can change the default password and <code>Add webiste</code>, enter the <code>Name</code> and <code>Domain</code>, and click  <code>enable share URL</code> so that anyone can access the dashboard.</p>
<p>Then you can get  <code>data-website-id</code> and  <code>src</code> values by click <code>Get tracking code</code>，enter the value to the <code>hugo-ladder</code> configuration  <code>params.analytics.umami.website_id</code> ,  <code>params.analytics.umami.url</code>.</p>
<p><img src="https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/OZcU7U.png" alt="OZcU7U"></p>
<p>In the end, you can get the website statistics analytics dashboard.🎉🎉🎉</p>
<p>Link to original article: <a href="https://guangzhengli.com/en/blog/en/how-to-integrate-umami-for-free-to-blog-site/">https://guangzhengli.com/en/blog/en/how-to-integrate-umami-for-free-to-blog-site/</a></p></section>

  
  
  <div class="paginator">
    
    <a class="prev" href="https://Leslie-mo.github.io/blog/configurations/"><span>&larr;&nbsp;&nbsp;</span><span>Configurations</span></a>
    
    
    <a class="next" href="https://Leslie-mo.github.io/blog/multi-language/"><span>Multi language support</span><span>&nbsp;&nbsp;&rarr;</span></a>
    
  </div>
  

  

<div class="related-resources">
  <h3>Related Resources</h3>
  
    
    
    
      <nav>
        <ul>
        
        
          
            <li>
              <a href="/blog/ladder-guide/">Ladder Guide</a>
            </li>
          
        
          
            <li>
              <a href="/blog/quick-start/">Qucik Start</a>
            </li>
          
        
          
            <li>
              <a href="/blog/analytics/">Analytics</a>
            </li>
          
        
          
            <li>
              <a href="/blog/comment-system/">Comment Systems</a>
            </li>
          
        
          
            <li>
              <a href="/blog/configurations/">Configurations</a>
            </li>
          
        
          
        
          
            <li>
              <a href="/blog/multi-language/">Multi language support</a>
            </li>
          
        
          
            <li>
              <a href="/blog/how-to-create-your-blog-for-free-by-hugo-ladder-in-30min/">How to create your blog by hugo ladder in 30min</a>
            </li>
          
        
          
            <li>
              <a href="/blog/how-to-create-your-blog-for-free-in-10min/">How to create your blog for free in 10min</a>
            </li>
          
        
        </ul>
      </nav>
    
  
</div>


  
  
<div class="comments">
  <script>
      const getTheme = window.localStorage && window.localStorage.getItem("theme");
      let theme = getTheme === 'dark' ? 'dark' : 'light';
      let s = document.createElement('script');
      s.src = 'https://giscus.app/client.js';
      s.setAttribute('data-repo', 'username\/repo');
      s.setAttribute('data-repo-id', 'xxx');
      s.setAttribute('data-category', 'Announcements');
      s.setAttribute('data-category-id', 'xxx');
      s.setAttribute('data-mapping', 'pathname');
      s.setAttribute('data-strict', '0');
      s.setAttribute('data-reactions-enabled', '1');
      s.setAttribute('data-emit-metadata', '0');
      s.setAttribute('data-input-position', 'top');
      s.setAttribute('data-theme', theme);
      s.setAttribute('data-lang', 'en');
      s.setAttribute('data-loading', 'lazy');
      s.setAttribute('crossorigin', 'anonymous');
      s.setAttribute('async', '');
      document.querySelector('div.comments').innerHTML = '';
      document.querySelector('div.comments').appendChild(s);
  </script>
</div>

</article>


        </div><footer class="footer">
  <p>&copy; 2023 <a href="https://Leslie-mo.github.io/">HONGFAN</a>
    Powered by
    <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo️️</a>
    <a href="https://github.com/guangzhengli/hugo-theme-ladder" rel="noopener" target="_blank">Ladder</a>
️  </p>
</footer>

<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>
</a>

<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>

<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'Copy';

        function copyingDone() {
            copybutton.innerHTML = 'Copied';
            setTimeout(() => {
                copybutton.innerHTML = 'Copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });
        codeblock.parentNode.appendChild(copybutton);
    });
</script></main>
    </body><script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
      const images = Array.from(document.querySelectorAll(".blog-content img"));
      images.forEach(img => {
          mediumZoom(img, {
              margin: 10,  
              scrollOffset: 40,  
              container: null,  
              template: null,  
              background: 'rgba(0, 0, 0, 0.5)'
          });
      });
  </script>

  
  <script src="/main.min.e02624bc38670c46ea2d95b7a5526a080a0d890af856155bbae501d0e248f2a49b4c1cfe5c3a7902d1edc9dff4333eec594df8a39d9510cdee06ce12f2dd9009.js" integrity="sha512-4CYkvDhnDEbqLZW3pVJqCAoNiQr4VhVbuuUB0OJI8qSbTBz&#43;XDp5AtHtyd/0Mz7sWU34o52VEM3uBs4S8t2QCQ==" crossorigin="anonymous" defer></script></html>
